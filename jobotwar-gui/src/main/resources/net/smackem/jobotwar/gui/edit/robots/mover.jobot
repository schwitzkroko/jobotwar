{"meta":{"version":1},"name":"Mover","source":{"language":"V1","code":"// robot  'mover'\n\ndef damage, dx, dy\n\n// save current damage\nstart:\n    DAMAGE -> damage\n\n// check damage - go move if damaged\n// if not, increment aim\nscan:\n    goto move unless DAMAGE = damage\n    AIM + 13 -> AIM \n\n// send radar in direction of aim\n// exit to scan if no enemy found\n// or shoot at enemy just spotted\n// then go see if enemy is still there\n\nspot:\n    AIM -> RADAR\n    goto scan if RADAR > 0\n    0 - RADAR -> SHOT\n    goto spot\n\n// pick a random place to go\n\nmove:\n    50 + RANDOM * 500 -> dx\n    50 + RANDOM * 400 -> dy\n\n// travel to new x location\nmoveX:\n    dx - X -> SPEEDX\n    goto moveX if abs(dx - X) > 20\n    0 -> SPEEDX\n\n// travel to new y location\n// then go start scanning again\n\nmoveY:\n   dy - Y -> SPEEDY\n   goto moveY if abs(dy - Y) > 20\n   0 -> SPEEDY\n   goto start\n"}}