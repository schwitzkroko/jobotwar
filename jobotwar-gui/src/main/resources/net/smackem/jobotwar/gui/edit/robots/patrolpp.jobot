{"meta":{"version":1},"name":"Patrol++","source":{"language":"V2","code":"// Robot Patrol\n// moves to the left or right side of the board - whichever is closer\n// then patrols from top to bottom and back, shooting across the board\n// performs well in battles with more than 2 robots and against\n// 360 deg scanning robots\n\nstate main() {\n    if @x() < 320 {\n        yield moveToLeft()\n    } else {\n        yield moveToRight()\n    }\n}\n\nstate moveToLeft() {\n    @speedX(-200)\n    @fire(0, 1000)\n    if @x() < 50 {\n        @speedX(0)\n        yield patrol(0, 200, 90)\n    }\n}\n\nstate moveToRight() {\n    @speedX(200)\n    @fire(180, 1000)\n    if @x() > 590 {\n        @speedX(0)\n        yield patrol(180, 200, 90)\n    }\n}\n\nstate patrol(fireAngle, speedY, radarAngle) {\n    @speedY(speedY)\n    def r = @radar(radarAngle)\n    if r < 60 {\n        @log(r)\n        yield patrol(\n            fireAngle,\n            0 - speedY + @random(-10, 10),\n            radarAngle + 180)\n    }\n    @fire(fireAngle, 1000)\n}\n"}}